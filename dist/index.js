/*
   ________                           __    _______
  / ____/ /_  ____ _____  ____  ___  / /   / / ___/
 / /   / __ \/ __ `/ __ \/ __ \/ _ \/ /_  / /\__ \
/ /___/ / / / /_/ / / / / / / /  __/ / /_/ /___/ /
\____/_/ /_/\__,_/_/ /_/_/ /_/\___/_/\____//____/

Date: 20/1/2019
Size: ~2KB
Author: Federico Ghedina <federico.ghedina@gmail.com>
*/
var Channeljs=function(){"use strict";var t={},i=function(t,i){return t.indexOf(i)},e=function(){this.topic2cbs={},this.lateTopics={},this.enabled=!0};return e.prototype.enable=function(){var t=this.enabled;return this.enabled=!0,t!==this.enabled},e.prototype.disable=function(){var t=this.enabled;return this.enabled=!1,t!==this.enabled},e.prototype.pub=function(t,i){var e,s=0,n=[];if(t instanceof Array)for(e=t.length;s<e;s+=1)t[s]in this.topic2cbs&&n.push(this.pub(t[s],i));else{if(!(t in this.topic2cbs&&this.enabled))return t in this.lateTopics?this.lateTopics[t].push({args:i}):this.lateTopics[t]=[{args:i}],null;for(e=this.topic2cbs[t].length;s<e;s+=1)n.push(this.topic2cbs[t][s].apply(null,i))}return n},e.prototype.sub=function(t,i,e){var s,n=0,o=[];if(t instanceof Array)for(s=t.length;n<s;n+=1)this.sub(t[n],i,e);if(t in this.topic2cbs&&this.enabled||(this.topic2cbs[t]=[]),this.topic2cbs[t].push(i),e&&t in this.lateTopics){for(n=0,s=this.lateTopics[t].length;n<s;n++)o.push(i.apply(null,this.lateTopics[t][n].args));return o}},e.prototype.unsub=function(t,e){var s,n=0;if(t instanceof Array&&e instanceof Array)for(s=t.length;n<s;n+=1)this.unsub(t[n],e[n]);return t in this.topic2cbs&&(n=i(this.topic2cbs[t],e))>=0&&this.topic2cbs[t].splice(n,1)&&0===this.topic2cbs[t].length&&delete this.topic2cbs[t],t in this.lateTopics&&delete this.lateTopics[t],this},e.prototype.once=function(t,i){function e(){return s.unsub(t,e),i.apply(null,Array.prototype.slice.call(arguments,0))}var s=this;this.sub(t,e)},e.prototype.reset=function(){var t=Array.prototype.slice.call(arguments,0),i=t.length,e=0;if(!i)return this.topic2cbs={},this.lateTopics={},this;for(null;e<i;e+=1)t[e]in this.topic2cbs&&delete this.topic2cbs[t[e]],t[e]in this.lateTopics&&delete this.lateTopics[t[e]];return this},{getChannels:function(i){var e,s={};if("boolean"==typeof i)for(e in t)t[e].enabled===i&&(s[e]=t[e]);else s=t;return s},get:function(i){return i in t||(t[i]=new e),t[i]}}}();"object"==typeof exports&&(module.exports=Channeljs);