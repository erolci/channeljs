/*
   ________                           __    _______
  / ____/ /_  ____ _____  ____  ___  / /   / / ___/
 / /   / __ \/ __ `/ __ \/ __ \/ _ \/ /_  / /\__ \
/ /___/ / / / /_/ / / / / / / /  __/ / /_/ /___/ /
\____/_/ /_/\__,_/_/ /_/_/ /_/\___/_/\____//____/

Date: 18/1/2019
Size: ~2KB
Author: Federico Ghedina <federico.ghedina@gmail.com>
*/
!function(t,i){"use strict";var e={},s=t.define;t.Channeljs=e,function(t){var i={},e=function(){return"indexOf"in[]?function(t,i){return t.indexOf(i)}:function(t,i){for(var e=t.length-1;e>=0&&t[e]!==i;)e--;return e}}(),s=function(){this.topic2cbs={},this.lateTopics={},this.enabled=!0};s.prototype.enable=function(){this.enabled=!0},s.prototype.disable=function(){this.enabled=!1},s.prototype.pub=function(t,i){var e,s=0,n=[];if(t instanceof Array)for(e=t.length;s<e;s+=1)t[s]in this.topic2cbs&&n.push(this.pub(t[s],i));else{if(!(t in this.topic2cbs&&this.enabled))return t in this.lateTopics?this.lateTopics[t].push({args:i}):this.lateTopics[t]=[{args:i}],null;for(e=this.topic2cbs[t].length;s<e;s+=1)n.push(this.topic2cbs[t][s].apply(null,[t].concat(i)))}return n},s.prototype.sub=function(t,i,s){var n,o=0;if(t instanceof Array)for(n=t.length;o<n;o+=1)this.sub(t[o],i,s);if(t in this.topic2cbs&&this.enabled||(this.topic2cbs[t]=[]),!s&&e(this.topic2cbs[t],i)>=0)return this;if(this.topic2cbs[t].push(i),t in this.lateTopics)for(o=0,n=this.lateTopics[t].length;o<n;o++)i.apply(null,[t].concat(this.lateTopics[t][o].args))},s.prototype.unsub=function(t,i){var s,n=0;if(t instanceof Array)for(s=t.length;n<s;n+=1)this.unsub(t[n],i);return t in this.topic2cbs&&(n=e(this.topic2cbs[t],i))>=0&&(this.topic2cbs[t].splice(n,1),0===this.topic2cbs[t].length&&delete this.topic2cbs[t]),t in this.lateTopics&&(n=e(this.lateTopics[t],i),n>=0&&this.lateTopics[t].splice(n,1),0===this.lateTopics[t].length&&delete this.lateTopics[t]),this},s.prototype.once=function(t,i){function e(){return s.unsub(t,e),i.apply(null,Array.prototype.slice.call(arguments,0))}var s=this;this.sub(t,e)},s.prototype.reset=function(){var t=Array.prototype.slice.call(arguments,0),i=t.length,e=0;if(!i)return this.topic2cbs={},this.lateTopics={},this;for(null;e<i;e+=1)t[e]in this.topic2cbs&&delete this.topic2cbs[t[e]],t[e]in this.lateTopics&&delete this.lateTopics[t[e]];return this},t.getChannels=function(t){var e,s={};if("boolean"==typeof t)for(e in i)i[e].enabled===t&&(s[e]=i[e]);else s=i;return s},t.get=function(t){return t in i||(i[t]=new s),i[t]}}(e),"object"==typeof exports?(void 0!==module&&module.exports&&(exports=module.exports=e),exports.Channeljs=e,module.exports=exports=e):"function"==typeof s&&s.amd&&s(function(){return e})}("object"==typeof window&&window||this);